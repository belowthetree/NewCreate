# CacheLab实验
>这是一个模拟缓冲访问的实验（虽然我没看懂题目要求）。

因为英文看着费劲，所以在网上找了一些解释。这个星期就慢慢研究一下吧。

>实验要求：模拟缓存工作，要根据输入的指令和数据输出命中率等信息（看完了整个实验的要求，仍然一头雾水，谁写的实验介绍啊）

## 接收参数
因为需要接收参数，所以需要给main函数加入参数，形如：
```
int main(int argc, char* argv[])
{
	····
	return 0;
}
```
>网上找了一些其他的资料，发现也有用getopt()这个函数的，需要包含“getopt.h”这个头文件。因为没用过而且看起来很麻烦就用上面的方法吧

## 参数判断
根据它给出的范例文件‘csim-ref’，我们需要模仿这个文件进行输入输出。这个文件支持-h、v、E、s、b、t等一系列操作。
除了h、v之外，其他操作都带有后续的参数。这里贴上原文描述：![](CacheLab实验_files/1.jpg)
那么就需要构建一个判断语句，这里我采用switch，然后要将传入的参数字符串中的数字部分转换成整型保存。
首先是转换函数：
```
int convert(char s[])
{
    int i, sum;
    int len = strlen(s);
    sum = 0;
    for(i = 0;i < len;i++)
    {
        sum = sum*10 + s[i] - '0';
    }
    return sum;
}
```
然后是判断语句
>由于一些术语还没有学习，先看第六章再更新。